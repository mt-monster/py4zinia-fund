# 截图导入功能快速启动指南

## 1. 安装OCR依赖

### 方案A：使用PaddleOCR（推荐）

```bash
cd pro2/fund_search
pip install paddleocr paddlepaddle Pillow
```

### 方案B：使用EasyOCR（备用）

```bash
pip install easyocr Pillow
```

## 2. 测试OCR功能

```bash
cd pro2/fund_search
python tests/test_screenshot_ocr.py
```

预期输出：
```
============================================================
基金截图OCR识别功能测试
============================================================

============================================================
测试1: 解析基金信息
============================================================

识别到 3 个基金:
  代码: 007721
  名称: 天弘标普500发起A
  置信度: 85.00%

  代码: 501225
  名称: 景顺长城全球半导体芯片股票A(人民币)
  置信度: 85.00%

  代码: 159573
  名称: 广发北证50成份指数A
  置信度: 85.00%

✅ 测试通过

============================================================
所有测试通过！✅
============================================================
```

## 3. 启动Web服务

```bash
cd pro2/fund_search/web
python app.py
```

## 4. 使用截图导入功能

1. 打开浏览器访问：`http://localhost:5000/my-holdings`
2. 点击工具栏中的"截图导入"按钮（绿色按钮）
3. 上传基金持仓截图
4. 点击"开始识别"
5. 确认识别结果
6. 填写持仓信息（份额、成本价）
7. 点击"确认导入"

## 5. 截图要求

### 推荐的截图格式

- ✅ 清晰的手机截图
- ✅ 包含基金代码（6位数字）
- ✅ 包含基金名称
- ✅ JPG或PNG格式
- ✅ 文件大小 < 10MB

### 示例截图内容

```
我的持有

天弘标普500发起(QDII-FOF)A          681.30
007721                              +3.20%

景顺长城全球半导体芯片股票A          664.00
501225                              +15.08%
```

## 6. 常见问题

### Q: 识别失败怎么办？

**检查清单：**
- [ ] OCR依赖是否正确安装？
- [ ] 截图是否清晰？
- [ ] 基金代码和名称是否完整可见？

**解决方案：**
```bash
# 重新安装OCR依赖
pip uninstall paddleocr paddlepaddle -y
pip install paddleocr paddlepaddle --upgrade
```

### Q: 识别速度慢怎么办？

**优化方案：**
1. 使用GPU加速（如果有NVIDIA GPU）
   ```bash
   pip install paddlepaddle-gpu
   ```

2. 压缩截图文