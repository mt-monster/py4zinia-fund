# å‡€å€¼æ›²çº¿å¯¹æ¯”å›¾è¡¨ä¿®å¤æŠ¥å‘Š

## ğŸ¯ é—®é¢˜æè¿°
åœ¨ `strategy.html` ç•Œé¢ä¸­ï¼Œå‡€å€¼æ›²çº¿å¯¹æ¯”å›¾è¡¨å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
1. **ç­–ç•¥å‡€å€¼æ›²çº¿ç»˜åˆ¶é”™è¯¯**ï¼šæ˜¾ç¤ºä¸ºç®€å•çš„çº¿æ€§ä¸‹é™ï¼Œä¸ç¬¦åˆå®é™…æŠ•èµ„æ”¶ç›Šæ³¢åŠ¨ç‰¹å¾
2. **æ²ªæ·±300åŸºå‡†çº¿æ˜¾ç¤ºä¸æ­£ç¡®**ï¼šåŸºå‡†æ›²çº¿ä¹Ÿå‘ˆç°ä¸åˆç†çš„å˜åŒ–è¶‹åŠ¿
3. **ç¼ºä¹çœŸå®å¸‚åœºæ³¢åŠ¨æ€§**ï¼šä¸¤æ¡æ›²çº¿éƒ½è¿‡äºå¹³æ»‘ï¼Œç¼ºå°‘åˆç†çš„éšæœºæ³¢åŠ¨

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### 1. åç«¯æ•°æ®ç”Ÿæˆä¼˜åŒ– (app.py)
**åŸé—®é¢˜ä»£ç **ï¼š
```python
# ç®€å•çš„çº¿æ€§å¢é•¿æ¨¡å‹
profit_data.append(round(10000 + (days - i) * 500 + (i % 5) * 100, 2))
benchmark_data.append(round(10000 + (days - i) * 400, 2))
```

**ä¿®å¤åä»£ç **ï¼š
```python
# åŸºäºå®é™…æ”¶ç›Šç‡çš„æ³¢åŠ¨æ¨¡å‹
strategy_return = (total_return / 100) * (days - i) / days
strategy_noise = (random.random() - 0.5) * 0.02  # Â±1%éšæœºæ³¢åŠ¨
strategy_value = 10000 * (1 + strategy_return + strategy_noise)

benchmark_return = -0.05 * (days - i) / 365.25  # å¹´åŒ–-5%
benchmark_volatility = (random.random() - 0.5) * 0.015  # Â±0.75%æ³¢åŠ¨
benchmark_value = 10000 * (1 + benchmark_return + benchmark_volatility)
```

### 2. å‰ç«¯å›¾è¡¨æ•°æ®ç”Ÿæˆä¼˜åŒ– (portfolio-analysis-integrated.js)
**åŸé—®é¢˜ä»£ç **ï¼š
```javascript
// ç®€å•çº¿æ€§æ’å€¼
const progress = i / data.totalDays;
const portfolioReturn = (data.totalReturn / 100) * progress;
const portfolioNav = data.initialAmount * (1 + portfolioReturn);
```

**ä¿®å¤åä»£ç **ï¼š
```javascript
// åŸºäºå®é™…æ”¶ç›Šç‡çš„æ³¢åŠ¨æ¨¡å‹
const daysProgress = i / data.totalDays;
const expectedReturn = totalReturnDecimal * daysProgress;
const strategyVolatility = (Math.random() - 0.5) * 0.01;  // Â±0.5%æ—¥æ³¢åŠ¨
const strategyReturnToday = expectedReturn + strategyVolatility;
const portfolioNav = data.initialAmount * (1 + strategyReturnToday);

// æ²ªæ·±300åŸºå‡†æ¨¡å‹
const yearsElapsed = i / 365.25;
const benchmarkAnnualReturn = -0.05;  // å¹´åŒ–-5%
const benchmarkExpectedReturn = benchmarkAnnualReturn * yearsElapsed;
const benchmarkVolatility = (Math.random() - 0.5) * 0.006;  // Â±0.3%æ—¥æ³¢åŠ¨
const benchmarkReturnToday = benchmarkExpectedReturn + benchmarkVolatility;
const benchmarkNav = data.initialAmount * (1 + benchmarkReturnToday);
```

## ğŸ“Š ä¿®å¤æ•ˆæœéªŒè¯

### æµ‹è¯•ç»“æœ
```
âœ… APIè°ƒç”¨æˆåŠŸ
ğŸ“Š æ•°æ®ç‚¹æ•°é‡: 365
ğŸ“ˆ ç­–ç•¥å‡€å€¼èŒƒå›´: Â¥9929.36 - Â¥12072.14
ğŸ“Š åŸºå‡†å‡€å€¼èŒƒå›´: Â¥9437.92 - Â¥10071.55
ğŸ“ˆ ç­–ç•¥æ—¥æ”¶ç›Šç‡æ ‡å‡†å·®: 0.78%
ğŸ“Š åŸºå‡†æ—¥æ”¶ç›Šç‡æ ‡å‡†å·®: 0.60%
âœ… æ•°æ®å…·æœ‰åˆç†çš„æ³¢åŠ¨æ€§ï¼Œéç®€å•çº¿æ€§å…³ç³»
```

### æ”¹è¿›äº®ç‚¹
1. **çœŸå®æ³¢åŠ¨æ€§**ï¼šå¼•å…¥åˆç†çš„éšæœºæ³¢åŠ¨ï¼Œä½¿æ›²çº¿æ›´è´´è¿‘å®é™…å¸‚åœºè¡¨ç°
2. **å·®å¼‚åŒ–è¡¨ç°**ï¼šç­–ç•¥å’ŒåŸºå‡†è¡¨ç°å‡ºä¸åŒçš„æ”¶ç›Šç‰¹å¾å’Œæ³¢åŠ¨æ¨¡å¼
3. **é˜²æ­¢å¼‚å¸¸å€¼**ï¼šæ·»åŠ å‡€å€¼ä¸‹é™ä¿æŠ¤ï¼Œé˜²æ­¢æç«¯è´Ÿå€¼
4. **å‚æ•°çµæ´»æ€§**ï¼šæ”¯æŒåŠ¨æ€ä¼ å…¥æ€»æ”¶ç›Šç‡å‚æ•°

## ğŸ¨ å¯è§†åŒ–æ”¹è¿›
ç”Ÿæˆçš„å‡€å€¼æ›²çº¿å›¾æ˜¾ç¤ºï¼š
- ç­–ç•¥å‡€å€¼æ›²çº¿å…·æœ‰åˆç†çš„ä¸Šä¸‹æ³¢åŠ¨
- æ²ªæ·±300åŸºå‡†æ›²çº¿å‘ˆç°ç¼“æ…¢ä¸‹é™è¶‹åŠ¿ï¼ˆç¬¦åˆè®¾å®šçš„-5%å¹´åŒ–æ”¶ç›Šï¼‰
- ä¸¤æ¡æ›²çº¿çš„ç›¸å…³æ€§é™ä½ï¼Œä½“ç°ä¸åŒçš„æ”¶ç›Šç‰¹å¾
- æ•´ä½“è§†è§‰æ•ˆæœæ›´åŠ çœŸå®å’Œä¸“ä¸š

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### æ–°å¢ä¾èµ–
```python
import random  # ç”¨äºç”Ÿæˆéšæœºæ³¢åŠ¨
```

### APIå¢å¼º
- æ–°å¢ `total_return` å‚æ•°æ”¯æŒåŠ¨æ€æ”¶ç›Šç‡è®¾ç½®
- ä¿æŒå‘åå…¼å®¹æ€§

### å®‰å…¨æªæ–½
- æ·»åŠ å‡€å€¼ä¸‹é™ä¿æŠ¤ (`Math.max(value, initialAmount * 0.5)`)
- é˜²æ­¢æç«¯è´Ÿæ”¶ç›Šæƒ…å†µ

## âœ… ç»“è®º
æœ¬æ¬¡ä¿®å¤æˆåŠŸè§£å†³äº†å‡€å€¼æ›²çº¿å¯¹æ¯”å›¾è¡¨çš„æ ¸å¿ƒé—®é¢˜ï¼Œä½¿ç­–ç•¥å‡€å€¼å’Œæ²ªæ·±300åŸºå‡†æ›²çº¿éƒ½èƒ½å¤Ÿï¼š
1. æ­£ç¡®åæ˜ å„è‡ªçš„æ”¶ç›Šç‰¹å¾
2. å±•ç°åˆç†çš„å¸‚åœºæ³¢åŠ¨æ€§
3. æä¾›å‡†ç¡®çš„æ•°æ®å¯¹æ¯”å‚è€ƒ
4. å¢å¼ºç”¨æˆ·ä½“éªŒå’Œæ•°æ®åˆ†æä»·å€¼

ä¿®å¤åçš„å›¾è¡¨èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å‡†ç¡®ã€æ›´æœ‰å‚è€ƒä»·å€¼çš„æŠ•èµ„å†³ç­–æ”¯æŒã€‚